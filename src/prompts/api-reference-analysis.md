# API接口与数据模型分析

**职责**：分析API接口设计和数据结构，提供完整的接口参考和数据模型文档

## 核心分析要点

### API接口分析
1. **API发现识别**：识别REST、GraphQL、WebSocket等不同类型API
2. **接口分类分组**：按功能、版本、权限对API进行分类
3. **接口规范分析**：分析RESTful规范遵循情况
4. **安全性分析**：分析认证、授权、输入验证等安全措施
5. **API质量评估**：评估接口设计的一致性和规范性

### 数据模型分析
1. **数据实体识别**：识别核心数据实体和业务对象
2. **实体关系分析**：分析实体间的关联关系和约束
3. **数据流向分析**：分析数据在系统中的流转路径
4. **持久化策略分析**：分析数据存储和访问模式
5. **数据模型质量评估**：评估设计的规范性和一致性

## 输出文档格式

参考以下格式生成 `api-reference.md`：

### 第一部分：API接口参考
- **API概览**：接口统计、技术栈和基本信息
- **接口分组**：按功能或业务域分组的接口列表
- **REST API详情**：详细的端点、参数、响应说明
- **其他类型API**：GraphQL、WebSocket等（如果有）
- **认证授权**：API安全机制和权限说明
- **错误处理**：统一的错误响应格式和状态码

### 第二部分：数据模型规范
- **数据模型概览**：核心实体统计和分类
- **核心实体定义**：主要数据实体的属性、类型和约束
- **实体关系图**：使用Mermaid ERD展示实体间关系
- **API数据传输对象**：Request/Response对象结构说明
- **数据校验规则**：字段验证规则和业务约束
- **持久化策略**：数据存储方案和访问模式

### 第三部分：集成指南
- **API调用示例**：常用接口的请求示例
- **数据流图**：API调用中的数据流转示意图
- **SDK和客户端**：API客户端库和使用说明
- **质量评估**：API和数据模型的优点、问题和改进建议

## 分析重点

- **API与数据模型的一致性**：确保接口定义与数据结构匹配
- **完整性检查**：覆盖所有重要的API端点和数据实体
- **标准规范遵循**：REST、JSON Schema等标准的遵循情况
- **实用性优先**：重点关注开发者最需要的接口和数据结构

## Mermaid图表要求

1. **API架构图**：展示API层次结构和分组
2. **实体关系图(ERD)**：展示核心数据实体间的关系
3. **数据流图**：展示典型API调用中的数据流转
4. **接口交互图**：展示前后端通过API的交互流程